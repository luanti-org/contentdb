{% extends "users/settings_base.html" %}

{% block title %}
	{{ _("Email and Notifications | %(username)s", username=user.username) }}
{% endblock %}

{% block pane %}
	<h2 class="mt-0">{{ _("Email and Notifications") }}</h2>

	{% if is_new %}
		<p class="alert alert-info">
			{{ _("Email notifications are currently turned off. Click 'Save' to apply recommended settings.") }}
		</p>
	{% endif %}

	{% from "macros/forms.html" import render_field, render_submit_field, render_checkbox_field %}
	<form action="" method="POST" class="form" role="form">
		{{ form.hidden_tag() }}

		<table class="table">
			<tr>
				<th>Event</th>
				<th>Description</th>
				<td>Emails?</td>
			</tr>
			{% for type in types %}
				<tr>
					<td>{{ type.getTitle() }}</td>
					<td>{{ type.get_description() }}</td>
					<td>{{ render_checkbox_field(form["pref_" + type.toName()]) }}</td>
				</tr>
			{% endfor %}
		</table>


		{{ render_submit_field(form.submit, tabindex=280) }}
	</form>
{% endblock %}
